<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="user">

	<resultMap type="java.util.HashMap" id="countMap">
		<result property="totalCount" column="totalCount" />
	</resultMap>

	<resultMap type="java.util.HashMap" id="userMap">
		<result property="id" column="id" />
		<result property="accout" column="accout" />
		<result property="password" column="password" />
		<result property="totalcredit" column="totalCredit" />
		<result property="createtime" column="createTime" />
	</resultMap>

    <!--根据条件账号信息  -->
	<select id="retrieveUserInfo" parameterType="map" resultMap="userMap">
						select e.id            as id,
		                       e.accout        as accout,
		                       e.password      as password,
		                       e.totalcredit   as totalcredit,
		                       e.createtime    as createtime
		                  from user e
		                 where 1=1
		                   and e.accout = #{accout}
		                 <if test="password != null">
						   and e.password = #{password}
						 </if>
	</select>
	

	<!-- 插入一个新用户 -->
	<insert id="insertUser" parameterType="com.app.user.bean.UserBean">
		insert into user(id, accout, password, totalcredit, createtime)
		      values(#{id}, #{accout},  #{password},  #{totalcredit},  #{createtime}) 
	</insert>
	
</mapper>