<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="user">

	<resultMap type="java.util.HashMap" id="countMap">
		<result property="totalCount" column="totalCount" />
	</resultMap>

	<resultMap type="java.util.HashMap" id="userMap">
		<result property="account" column="account" />
		<result property="password" column="password" />
		<result property="totalcredit" column="totalCredit" />
		<result property="createtime" column="createTime" />
	</resultMap>

    <!--根据条件账号信息  -->
	<select id="retrieveUserInfo" parameterType="map" resultMap="userMap">
						select e.account       as account,
		                       e.password      as password,
		                       e.totalcredit   as totalCredit,
		                       e.createtime    as createTime
		                  from user e
		                 where 1=1
		                   and e.account = #{account}
		                 <if test="password != null">
						   and e.password = #{password}
						 </if>
	</select>
	

	<!-- 插入一个新用户 -->
	<insert id="insertUser" parameterType="com.app.user.bean.UserBean">
		insert into user(account, password, totalcredit, createtime)
		      values(#{account},  #{password},  #{totalCredit},  #{createTime}) 
	</insert>
	
</mapper>